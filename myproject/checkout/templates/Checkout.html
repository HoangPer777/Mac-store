{%load static%}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Checkout</title>
    <link rel="stylesheet" href="{% static 'resource/fontawesome-free-6.6.0-web/css/all.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="{% static 'style/css/component-css/checkout/Checkout.css' %}" rel="stylesheet">
    <link href="{% static 'style/js/component-js/Checkout.js' %}" rel="stylesheet">

</head>
<body>

<div id="header" class="mid_align row">
    <div class="nav">
        <i id="back" class="fa-solid fa-arrow-left" data-src="../cart/Cart.html" ></i>
    </div>
    <span>Thanh toán đơn hàng</span>
</div>

<div id="body" class="mid_align">
    <div class="container row">

        <div class="left-side">
            <div class="list_product">
                <div class="cart-details">
                <h3>Giỏ hàng:</h3>
                {% if cart.cart %}
                    <ul>
                        {% for item in cart.cart.values %}
                        <li>
                            <p>{{ item.product_name }} - {{ item.quantity }} x {{ item.price|floatformat:0 }} ₫</p>
                            <p>Tổng: {{ item.quantity|floatformat:0 }} x {{ item.price|floatformat:0 }} ₫</p>
                        </li>
                        {% endfor %}
                    </ul>
                <h4>Tổng cộng: {{ total_price|floatformat:0 }} ₫</h4>
                {% else %}
                    <p>Giỏ hàng của bạn đang trống.</p>
                {% endif %}
            </div>
    </div>

            </div>


            <div class="address">
                <div class="address_title row ">
                    <span class="">Địa Nhận hàng</span>

                </div>

                <div class="address_body">


                    <div class="item_header row mid_align">
                         <span class="name">{{ user.full_name|default:"Guest" }}</span>
                        <div class="rec_vertical"></div>
                        <span class="phone">{{ user.phone|default:"N/A" }}</span>
{#                        <a href="#" class="change">Thay đổi</a>#}
                    </div>

                    <div class="address_detail">
                        {% if user.is_authenticated %}
                            <span>{{ address.detail }}, {{ address.district }}, {{ address.province }}</span>
                        {% else %}
                            <span>Đăng nhập để mới có địa chỉ</span>
                        {% endif %}
                    </div>
                </div>




            </div>

            <div class="payment">
                <div class="payment_title row ">
                    <span class="">Phương thức thanh toán</span>
                </div>

                <div class="payment_body col">

                    <div class="item mid_align cod">
                        <i class="fa-solid fa-money-bill"></i>
                        <span>Thanh toán khi nhận hàng</span>
                        <input type="radio" name="payment-method" checked>
                    </div>


                    <div class="item mid_align banking col" >

                        <div class="title">
                            <i class="fa-solid fa-building-columns"></i>
                            <span>Thanh toán qua ngân hàng</span>
                        </div>


                        <div class="card_list col">
                            <div class="card_item">
                                <div class="wrap_card">
                                    <i class="fa-brands fa-cc-visa"></i>
                                    <span>**** 5634</span>
                                    <input type="radio" name="payment-method">
                                </div>
                            </div>

                            <div class="card_item">
                                <div class="wrap_card">
                                    <i class="fa-brands fa-cc-jcb"></i>
                                    <span>**** 4212</span>
                                    <input type="radio" name="payment-method">
                                </div>
                            </div>

                            <div class="card_item">
                                <div class="wrap_card">
                                    <i class="fa-brands fa-cc-mastercard"></i>
                                    <span>**** 1232</span>
                                    <input type="radio" name="payment-method">
                                </div>
                            </div>
                        </div>

                    </div>








                </div>




            </div>


        </div>


        <div class="right-side col ">
            <div class="bill mid_align col ">

                <div class="wrap_total">
                    <div class="total">
                        <span>Tổng cộng</span>
                        <span>105,353,117 VND</span>
                    </div>
                </div>


                <div class="discount">
                    <span class="title">Nhập Mã Khuyến Mãi</span>

                    <div class="wrap_input">
                        <input id="voucher" type="text" placeholder="Voucher hoặc gift code ">
                        <label for="voucher"></label>
                        <button id="apply-voucher" type="submit">Áp Dụng</button>
                    </div>
                    <div class="coupon-form">
{#                        temp#}
{#                    <form method="POST" action="{% url 'cart:apply_coupon' %}">#}
{#                        {% csrf_token %}#}
{#                        {{ coupon_apply_form.as_p }}#}
{#                        <button type="submit">Áp dụng mã giảm giá</button>#}
{#                    </form>#}
    </div>

                </div>

                <div class="wrap_total">
                    <div class="total">
                        <span>Thành tiền</span>
                        <span>105,353,117 VND</span>
                    </div>
                </div>


{#                <div class="summary col">#}
{#                    <span class="title">Bản Tóm Tắt</span>#}
{#                    <div class="price item_price">#}
{#                        <span>Tổng giá trước thuế</span>#}
{#                        <span class="value">95,775,561 VND</span>#}
{#                    </div>#}
{##}
{#                    <div class="tax item_price">#}
{#                        <span>Thuế GTGT</span>#}
{#                        <span class="value">9,577,556 VND</span>#}
{#                    </div>#}
{#                </div>#}
{##}


                <button type="submit" id="pay" data-src="/web-programming/frontEnd/src/component/user_order/OrderSuccess.html">Thanh Toán</button>

                <div class="term_condition">
                <span>Bằng cách gửi đơn đặt hàng,
                    bạn đồng ý với <a href="#">Điều khoản & điều kiện</a> và
                    chúng tôi sẽ sử dụng dữ liệu cá nhân của bạn theo
                    <a href="#">Chính sách quyền riêng tư</a> của chúng tôi.</span>
                </div>


                <div class="ads col">
                    <div class="ads_item">
                        <i class="fa-solid fa-medal"></i>
                        <span>Cam kết giá</span>

                    </div>

                    <div class="ads_item">
                        <i class="fa-solid fa-truck-fast"></i>
                        <span>Giao hàng miễn phí toàn quốc </span>

                    </div>
                    <div class="ads_item">
                        <i class="fa-solid fa-percent"></i>
                        <span>Gói trả góp 0%</span>

                    </div>

                    <div class="ads_item">
                        <i class="fa-solid fa-rotate"></i>
                        <span>Đổi sản phẩm theo chính sách quy định trong vòng 14 ngày</span>

                    </div>

                </div>


            </div>
        </div>
    </div>


</div>

</body>
</html>